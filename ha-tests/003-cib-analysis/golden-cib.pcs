pcs cluster cib tmp-cib.xml --config
pcs -f tmp-cib.xml property set 'have-watchdog=false'
pcs -f tmp-cib.xml property set 'dc-version=1.1.13-a14efad'
pcs -f tmp-cib.xml property set 'cluster-infrastructure=corosync'
pcs -f tmp-cib.xml property set 'cluster-name=tripleo_cluster'
pcs -f tmp-cib.xml property set 'stonith-enabled=true'
pcs -f tmp-cib.xml property set 'redis_REPL_INFO=overcloud-controller-1'
pcs -f tmp-cib.xml stonith create my-stonith-xvm-overcloud-controller-0 fence_xvm 'port=baremetalbrbm_2' 'pcmk_host_list=overcloud-controller-0' op monitor 'id=my-stonith-xvm-overcloud-controller-0-monitor-interval-30s' 'interval=30s' 'name=monitor'
pcs -f tmp-cib.xml stonith create my-stonith-xvm-overcloud-controller-1 fence_xvm 'port=baremetalbrbm_1' 'pcmk_host_list=overcloud-controller-1' op monitor 'id=my-stonith-xvm-overcloud-controller-1-monitor-interval-30s' 'interval=30s' 'name=monitor'
pcs -f tmp-cib.xml stonith create my-stonith-xvm-overcloud-controller-2 fence_xvm 'port=baremetalbrbm_0' 'pcmk_host_list=overcloud-controller-2' op monitor 'id=my-stonith-xvm-overcloud-controller-2-monitor-interval-30s' 'interval=30s' 'name=monitor'
pcs -f tmp-cib.xml resource create ip-172.16.3.4 ocf:heartbeat:IPaddr2 'ip=172.16.3.4' 'cidr_netmask=32' op start 'id=ip-172.16.3.4-start-timeout-20s' 'interval=0s' 'name=start' 'timeout=20s' stop 'id=ip-172.16.3.4-stop-timeout-20s' 'interval=0s' 'name=stop' 'timeout=20s' monitor 'id=ip-172.16.3.4-monitor-interval-10s' 'interval=10s' 'name=monitor' 'timeout=20s'
pcs -f tmp-cib.xml resource create ip-192.0.2.6 ocf:heartbeat:IPaddr2 'ip=192.0.2.6' 'cidr_netmask=32' op start 'id=ip-192.0.2.6-start-timeout-20s' 'interval=0s' 'name=start' 'timeout=20s' stop 'id=ip-192.0.2.6-stop-timeout-20s' 'interval=0s' 'name=stop' 'timeout=20s' monitor 'id=ip-192.0.2.6-monitor-interval-10s' 'interval=10s' 'name=monitor' 'timeout=20s'
pcs -f tmp-cib.xml resource create haproxy systemd:haproxy op start 'id=haproxy-start-timeout-60s' 'interval=0s' 'name=start' 'timeout=60s' monitor 'id=haproxy-monitor-interval-60s' 'interval=60s' 'name=monitor'
pcs -f tmp-cib.xml resource create ip-172.16.23.10 ocf:heartbeat:IPaddr2 'ip=172.16.23.10' 'cidr_netmask=32' op start 'id=ip-172.16.23.10-start-timeout-20s' 'interval=0s' 'name=start' 'timeout=20s' stop 'id=ip-172.16.23.10-stop-timeout-20s' 'interval=0s' 'name=stop' 'timeout=20s' monitor 'id=ip-172.16.23.10-monitor-interval-10s' 'interval=10s' 'name=monitor' 'timeout=20s'
pcs -f tmp-cib.xml resource create ip-172.16.20.10 ocf:heartbeat:IPaddr2 'ip=172.16.20.10' 'cidr_netmask=32' op start 'id=ip-172.16.20.10-start-timeout-20s' 'interval=0s' 'name=start' 'timeout=20s' stop 'id=ip-172.16.20.10-stop-timeout-20s' 'interval=0s' 'name=stop' 'timeout=20s' monitor 'id=ip-172.16.20.10-monitor-interval-10s' 'interval=10s' 'name=monitor' 'timeout=20s'
pcs -f tmp-cib.xml resource create galera ocf:heartbeat:galera 'additional_parameters=--open-files-limit=16384' 'enable_creation=true' 'wsrep_cluster_address=gcomm://overcloud-controller-0,overcloud-controller-1,overcloud-controller-2' op start 'id=galera-start-timeout-120' 'interval=0s' 'name=start' 'timeout=120' stop 'id=galera-stop-timeout-120' 'interval=0s' 'name=stop' 'timeout=120' monitor 'id=galera-monitor-interval-20' 'interval=20' 'name=monitor' 'timeout=30' monitor 'id=galera-monitor-interval-10-role-Master' 'interval=10' 'name=monitor' 'role=Master' 'timeout=30' monitor 'id=galera-monitor-interval-30-role-Slave' 'interval=30' 'name=monitor' 'role=Slave' 'timeout=30' demote 'id=galera-demote-timeout-120' 'interval=0s' 'name=demote' 'timeout=120' promote 'id=galera-promote-timeout-300s-on-fail-block' 'interval=0s' 'name=promote' 'on-fail=block' 'timeout=300s'
pcs -f tmp-cib.xml resource create ip-172.16.21.10 ocf:heartbeat:IPaddr2 'ip=172.16.21.10' 'cidr_netmask=32' op start 'id=ip-172.16.21.10-start-timeout-20s' 'interval=0s' 'name=start' 'timeout=20s' stop 'id=ip-172.16.21.10-stop-timeout-20s' 'interval=0s' 'name=stop' 'timeout=20s' monitor 'id=ip-172.16.21.10-monitor-interval-10s' 'interval=10s' 'name=monitor' 'timeout=20s'
pcs -f tmp-cib.xml resource create ip-172.16.20.11 ocf:heartbeat:IPaddr2 'ip=172.16.20.11' 'cidr_netmask=32' op start 'id=ip-172.16.20.11-start-timeout-20s' 'interval=0s' 'name=start' 'timeout=20s' stop 'id=ip-172.16.20.11-stop-timeout-20s' 'interval=0s' 'name=stop' 'timeout=20s' monitor 'id=ip-172.16.20.11-monitor-interval-10s' 'interval=10s' 'name=monitor' 'timeout=20s'
pcs -f tmp-cib.xml resource create redis ocf:heartbeat:redis 'wait_last_known_master=true' op start 'id=redis-start-timeout-120' 'interval=0s' 'name=start' 'timeout=120' stop 'id=redis-stop-timeout-120' 'interval=0s' 'name=stop' 'timeout=120' monitor 'id=redis-monitor-interval-45' 'interval=45' 'name=monitor' 'timeout=60' monitor 'id=redis-monitor-interval-20-role-Master' 'interval=20' 'name=monitor' 'role=Master' 'timeout=60' monitor 'id=redis-monitor-interval-60-role-Slave' 'interval=60' 'name=monitor' 'role=Slave' 'timeout=60' promote 'id=redis-promote-timeout-120' 'interval=0s' 'name=promote' 'timeout=120' demote 'id=redis-demote-timeout-120' 'interval=0s' 'name=demote' 'timeout=120'
pcs -f tmp-cib.xml resource create mongod systemd:mongod op start 'id=mongod-start-timeout-120s' 'interval=0s' 'name=start' 'timeout=120s' monitor 'id=mongod-monitor-interval-60s' 'interval=60s' 'name=monitor'
pcs -f tmp-cib.xml resource create rabbitmq ocf:heartbeat:rabbitmq-cluster 'set_policy=ha-all ^(?!amq\.).* {"ha-mode":"all"}' op start 'id=rabbitmq-start-timeout-100' 'interval=0s' 'name=start' 'timeout=100' stop 'id=rabbitmq-stop-timeout-90' 'interval=0s' 'name=stop' 'timeout=90' monitor 'id=rabbitmq-monitor-interval-10' 'interval=10' 'name=monitor' 'timeout=40'
pcs -f tmp-cib.xml resource create memcached systemd:memcached op start 'id=memcached-start-timeout-60s' 'interval=0s' 'name=start' 'timeout=60s' monitor 'id=memcached-monitor-interval-60s' 'interval=60s' 'name=monitor'
pcs -f tmp-cib.xml resource create openstack-nova-scheduler systemd:openstack-nova-scheduler op start 'id=openstack-nova-scheduler-start-timeout-60s' 'interval=0s' 'name=start' 'timeout=60s' monitor 'id=openstack-nova-scheduler-monitor-start-delay-10s' 'interval=60s' 'name=monitor' 'start-delay=10s'
pcs -f tmp-cib.xml resource create neutron-l3-agent systemd:neutron-l3-agent op start 'id=neutron-l3-agent-start-timeout-60s' 'interval=0s' 'name=start' 'timeout=60s' monitor 'id=neutron-l3-agent-monitor-interval-60s' 'interval=60s' 'name=monitor'
pcs -f tmp-cib.xml resource create openstack-ceilometer-alarm-notifier systemd:openstack-ceilometer-alarm-notifier op start 'id=openstack-ceilometer-alarm-notifier-start-timeout-60s' 'interval=0s' 'name=start' 'timeout=60s' monitor 'id=openstack-ceilometer-alarm-notifier-monitor-interval-60s' 'interval=60s' 'name=monitor'
pcs -f tmp-cib.xml resource create openstack-heat-engine systemd:openstack-heat-engine op start 'id=openstack-heat-engine-start-timeout-60s' 'interval=0s' 'name=start' 'timeout=60s' monitor 'id=openstack-heat-engine-monitor-interval-60s' 'interval=60s' 'name=monitor'
pcs -f tmp-cib.xml resource create openstack-ceilometer-api systemd:openstack-ceilometer-api op start 'id=openstack-ceilometer-api-start-timeout-60s' 'interval=0s' 'name=start' 'timeout=60s' monitor 'id=openstack-ceilometer-api-monitor-interval-60s' 'interval=60s' 'name=monitor'
pcs -f tmp-cib.xml resource create neutron-metadata-agent systemd:neutron-metadata-agent op start 'id=neutron-metadata-agent-start-timeout-60s' 'interval=0s' 'name=start' 'timeout=60s' monitor 'id=neutron-metadata-agent-monitor-interval-60s' 'interval=60s' 'name=monitor'
pcs -f tmp-cib.xml resource create neutron-ovs-cleanup ocf:neutron:OVSCleanup op start 'id=neutron-ovs-cleanup-start-timeout-40' 'interval=0s' 'name=start' 'timeout=40' stop 'id=neutron-ovs-cleanup-stop-timeout-300' 'interval=0s' 'name=stop' 'timeout=300' monitor 'id=neutron-ovs-cleanup-monitor-interval-10' 'interval=10' 'name=monitor' 'timeout=20'
pcs -f tmp-cib.xml resource create neutron-netns-cleanup ocf:neutron:NetnsCleanup op start 'id=neutron-netns-cleanup-start-timeout-40' 'interval=0s' 'name=start' 'timeout=40' stop 'id=neutron-netns-cleanup-stop-timeout-300' 'interval=0s' 'name=stop' 'timeout=300' monitor 'id=neutron-netns-cleanup-monitor-interval-10' 'interval=10' 'name=monitor' 'timeout=20'
pcs -f tmp-cib.xml resource create openstack-heat-api systemd:openstack-heat-api op start 'id=openstack-heat-api-start-timeout-60s' 'interval=0s' 'name=start' 'timeout=60s' monitor 'id=openstack-heat-api-monitor-interval-60s' 'interval=60s' 'name=monitor'
pcs -f tmp-cib.xml resource create openstack-cinder-scheduler systemd:openstack-cinder-scheduler op start 'id=openstack-cinder-scheduler-start-timeout-60s' 'interval=0s' 'name=start' 'timeout=60s' monitor 'id=openstack-cinder-scheduler-monitor-interval-60s' 'interval=60s' 'name=monitor'
pcs -f tmp-cib.xml resource create openstack-nova-api systemd:openstack-nova-api op start 'id=openstack-nova-api-start-timeout-60s' 'interval=0s' 'name=start' 'timeout=60s' monitor 'id=openstack-nova-api-monitor-start-delay-10s' 'interval=60s' 'name=monitor' 'start-delay=10s'
pcs -f tmp-cib.xml resource create openstack-heat-api-cloudwatch systemd:openstack-heat-api-cloudwatch op start 'id=openstack-heat-api-cloudwatch-start-timeout-60s' 'interval=0s' 'name=start' 'timeout=60s' monitor 'id=openstack-heat-api-cloudwatch-monitor-interval-60s' 'interval=60s' 'name=monitor'
pcs -f tmp-cib.xml resource create openstack-ceilometer-collector systemd:openstack-ceilometer-collector op start 'id=openstack-ceilometer-collector-start-timeout-60s' 'interval=0s' 'name=start' 'timeout=60s' monitor 'id=openstack-ceilometer-collector-monitor-interval-60s' 'interval=60s' 'name=monitor'
pcs -f tmp-cib.xml resource create openstack-keystone systemd:openstack-keystone op start 'id=openstack-keystone-start-timeout-60s' 'interval=0s' 'name=start' 'timeout=60s' monitor 'id=openstack-keystone-monitor-interval-60s' 'interval=60s' 'name=monitor'
pcs -f tmp-cib.xml resource create openstack-nova-consoleauth systemd:openstack-nova-consoleauth op start 'id=openstack-nova-consoleauth-start-timeout-60s' 'interval=0s' 'name=start' 'timeout=60s' monitor 'id=openstack-nova-consoleauth-monitor-start-delay-10s' 'interval=60s' 'name=monitor' 'start-delay=10s'
pcs -f tmp-cib.xml resource create openstack-glance-registry systemd:openstack-glance-registry op start 'id=openstack-glance-registry-start-timeout-60s' 'interval=0s' 'name=start' 'timeout=60s' monitor 'id=openstack-glance-registry-monitor-interval-60s' 'interval=60s' 'name=monitor'
pcs -f tmp-cib.xml resource create openstack-ceilometer-notification systemd:openstack-ceilometer-notification op start 'id=openstack-ceilometer-notification-start-timeout-60s' 'interval=0s' 'name=start' 'timeout=60s' monitor 'id=openstack-ceilometer-notification-monitor-interval-60s' 'interval=60s' 'name=monitor'
pcs -f tmp-cib.xml resource create openstack-cinder-api systemd:openstack-cinder-api op start 'id=openstack-cinder-api-start-timeout-60s' 'interval=0s' 'name=start' 'timeout=60s' monitor 'id=openstack-cinder-api-monitor-interval-60s' 'interval=60s' 'name=monitor'
pcs -f tmp-cib.xml resource create neutron-dhcp-agent systemd:neutron-dhcp-agent op start 'id=neutron-dhcp-agent-start-timeout-60s' 'interval=0s' 'name=start' 'timeout=60s' monitor 'id=neutron-dhcp-agent-monitor-interval-60s' 'interval=60s' 'name=monitor'
pcs -f tmp-cib.xml resource create openstack-glance-api systemd:openstack-glance-api op start 'id=openstack-glance-api-start-timeout-60s' 'interval=0s' 'name=start' 'timeout=60s' monitor 'id=openstack-glance-api-monitor-interval-60s' 'interval=60s' 'name=monitor'
pcs -f tmp-cib.xml resource create neutron-openvswitch-agent systemd:neutron-openvswitch-agent op start 'id=neutron-openvswitch-agent-start-timeout-60s' 'interval=0s' 'name=start' 'timeout=60s' monitor 'id=neutron-openvswitch-agent-monitor-interval-60s' 'interval=60s' 'name=monitor'
pcs -f tmp-cib.xml resource create openstack-nova-novncproxy systemd:openstack-nova-novncproxy op start 'id=openstack-nova-novncproxy-start-timeout-60s' 'interval=0s' 'name=start' 'timeout=60s' monitor 'id=openstack-nova-novncproxy-monitor-start-delay-10s' 'interval=60s' 'name=monitor' 'start-delay=10s'
pcs -f tmp-cib.xml resource create delay ocf:heartbeat:Delay 'startdelay=10' op start 'id=delay-start-timeout-30' 'interval=0s' 'name=start' 'timeout=30' stop 'id=delay-stop-timeout-30' 'interval=0s' 'name=stop' 'timeout=30' monitor 'id=delay-monitor-interval-10' 'interval=10' 'name=monitor' 'timeout=30'
pcs -f tmp-cib.xml resource create neutron-server systemd:neutron-server op start 'id=neutron-server-start-timeout-90' 'interval=0s' 'name=start' 'timeout=90' monitor 'id=neutron-server-monitor-interval-60s' 'interval=60s' 'name=monitor'
pcs -f tmp-cib.xml resource create httpd systemd:httpd op start 'id=httpd-start-timeout-60s' 'interval=0s' 'name=start' 'timeout=60s' monitor 'id=httpd-monitor-interval-60s' 'interval=60s' 'name=monitor'
pcs -f tmp-cib.xml resource create openstack-ceilometer-central systemd:openstack-ceilometer-central op start 'id=openstack-ceilometer-central-start-timeout-60s' 'interval=0s' 'name=start' 'timeout=60s' monitor 'id=openstack-ceilometer-central-monitor-interval-60s' 'interval=60s' 'name=monitor'
pcs -f tmp-cib.xml resource create openstack-ceilometer-alarm-evaluator systemd:openstack-ceilometer-alarm-evaluator op start 'id=openstack-ceilometer-alarm-evaluator-start-timeout-60s' 'interval=0s' 'name=start' 'timeout=60s' monitor 'id=openstack-ceilometer-alarm-evaluator-monitor-interval-60s' 'interval=60s' 'name=monitor'
pcs -f tmp-cib.xml resource create openstack-heat-api-cfn systemd:openstack-heat-api-cfn op start 'id=openstack-heat-api-cfn-start-timeout-60s' 'interval=0s' 'name=start' 'timeout=60s' monitor 'id=openstack-heat-api-cfn-monitor-interval-60s' 'interval=60s' 'name=monitor'
pcs -f tmp-cib.xml resource create openstack-cinder-volume systemd:openstack-cinder-volume op start 'id=openstack-cinder-volume-start-timeout-60s' 'interval=0s' 'name=start' 'timeout=60s' monitor 'id=openstack-cinder-volume-monitor-interval-60s' 'interval=60s' 'name=monitor'
pcs -f tmp-cib.xml resource create openstack-nova-conductor systemd:openstack-nova-conductor op start 'id=openstack-nova-conductor-start-timeout-60s' 'interval=0s' 'name=start' 'timeout=60s' monitor 'id=openstack-nova-conductor-monitor-start-delay-10s' 'interval=60s' 'name=monitor' 'start-delay=10s'
pcs -f tmp-cib.xml constraint colocation add ip-172.16.3.4 with haproxy-clone id=colocation-ip-172.16.3.4-haproxy-clone-INFINITY
pcs -f tmp-cib.xml constraint colocation add ip-192.0.2.6 with haproxy-clone id=colocation-ip-192.0.2.6-haproxy-clone-INFINITY
pcs -f tmp-cib.xml pcs constraint order ip-172.16.20.10 then haproxy-clone id=order-ip-172.16.20.10-haproxy-clone-Optional kind=Optional
pcs -f tmp-cib.xml pcs constraint order ip-192.0.2.6 then haproxy-clone id=order-ip-192.0.2.6-haproxy-clone-Optional kind=Optional
pcs -f tmp-cib.xml constraint colocation add ip-172.16.21.10 with haproxy-clone id=colocation-ip-172.16.21.10-haproxy-clone-INFINITY
pcs -f tmp-cib.xml constraint colocation add ip-172.16.23.10 with haproxy-clone id=colocation-ip-172.16.23.10-haproxy-clone-INFINITY
pcs -f tmp-cib.xml constraint colocation add ip-172.16.20.11 with haproxy-clone id=colocation-ip-172.16.20.11-haproxy-clone-INFINITY
pcs -f tmp-cib.xml pcs constraint order ip-172.16.3.4 then haproxy-clone id=order-ip-172.16.3.4-haproxy-clone-Optional kind=Optional
pcs -f tmp-cib.xml constraint colocation add ip-172.16.20.10 with haproxy-clone id=colocation-ip-172.16.20.10-haproxy-clone-INFINITY
pcs -f tmp-cib.xml pcs constraint order ip-172.16.23.10 then haproxy-clone id=order-ip-172.16.23.10-haproxy-clone-Optional kind=Optional
pcs -f tmp-cib.xml pcs constraint order ip-172.16.20.11 then haproxy-clone id=order-ip-172.16.20.11-haproxy-clone-Optional kind=Optional
pcs -f tmp-cib.xml pcs constraint order ip-172.16.21.10 then haproxy-clone id=order-ip-172.16.21.10-haproxy-clone-Optional kind=Optional
pcs -f tmp-cib.xml constraint colocation add openstack-glance-api-clone with openstack-glance-registry-clone id=colocation-openstack-glance-api-clone-openstack-glance-registry-clone-INFINITY
pcs -f tmp-cib.xml constraint colocation add openstack-cinder-volume with openstack-cinder-scheduler-clone id=colocation-openstack-cinder-volume-openstack-cinder-scheduler-clone-INFINITY
pcs -f tmp-cib.xml constraint colocation add neutron-dhcp-agent-clone with neutron-openvswitch-agent-clone id=colocation-neutron-dhcp-agent-clone-neutron-openvswitch-agent-clone-INFINITY
pcs -f tmp-cib.xml constraint colocation add openstack-nova-scheduler-clone with openstack-nova-api-clone id=colocation-openstack-nova-scheduler-clone-openstack-nova-api-clone-INFINITY
pcs -f tmp-cib.xml pcs constraint order memcached-clone then openstack-keystone-clone id=order-memcached-clone-openstack-keystone-clone-mandatory
pcs -f tmp-cib.xml pcs constraint order mongod-clone then openstack-ceilometer-central-clone id=order-mongod-clone-openstack-ceilometer-central-clone-mandatory
pcs -f tmp-cib.xml constraint colocation add neutron-l3-agent-clone with neutron-dhcp-agent-clone id=colocation-neutron-l3-agent-clone-neutron-dhcp-agent-clone-INFINITY
pcs -f tmp-cib.xml pcs constraint order openstack-glance-registry-clone then openstack-glance-api-clone id=order-openstack-glance-registry-clone-openstack-glance-api-clone-mandatory
pcs -f tmp-cib.xml pcs constraint order rabbitmq-clone then openstack-keystone-clone id=order-rabbitmq-clone-openstack-keystone-clone-mandatory
pcs -f tmp-cib.xml constraint colocation add openstack-ceilometer-notification-clone with openstack-ceilometer-alarm-notifier-clone id=colocation-openstack-ceilometer-notification-clone-openstack-ceilometer-alarm-notifier-clone-INFINITY
pcs -f tmp-cib.xml constraint colocation add neutron-openvswitch-agent-clone with neutron-netns-cleanup-clone id=colocation-neutron-openvswitch-agent-clone-neutron-netns-cleanup-clone-INFINITY
pcs -f tmp-cib.xml pcs constraint order openstack-heat-api-clone then openstack-heat-api-cfn-clone id=order-openstack-heat-api-clone-openstack-heat-api-cfn-clone-mandatory
pcs -f tmp-cib.xml pcs constraint order delay-clone then openstack-ceilometer-alarm-evaluator-clone id=order-delay-clone-openstack-ceilometer-alarm-evaluator-clone-mandatory
pcs -f tmp-cib.xml pcs constraint order openstack-keystone-clone then openstack-ceilometer-central-clone id=order-openstack-keystone-clone-openstack-ceilometer-central-clone-mandatory
pcs -f tmp-cib.xml constraint colocation add neutron-netns-cleanup-clone with neutron-ovs-cleanup-clone id=colocation-neutron-netns-cleanup-clone-neutron-ovs-cleanup-clone-INFINITY
pcs -f tmp-cib.xml pcs constraint order openstack-keystone-clone then openstack-glance-registry-clone id=order-openstack-keystone-clone-openstack-glance-registry-clone-mandatory
pcs -f tmp-cib.xml constraint colocation add openstack-heat-api-cloudwatch-clone with openstack-heat-api-cfn-clone id=colocation-openstack-heat-api-cloudwatch-clone-openstack-heat-api-cfn-clone-INFINITY
pcs -f tmp-cib.xml pcs constraint order openstack-keystone-clone then openstack-cinder-api-clone id=order-openstack-keystone-clone-openstack-cinder-api-clone-mandatory
pcs -f tmp-cib.xml pcs constraint order openstack-cinder-scheduler-clone then openstack-cinder-volume id=order-openstack-cinder-scheduler-clone-openstack-cinder-volume-mandatory
pcs -f tmp-cib.xml pcs constraint order promote redis-master then openstack-ceilometer-central-clone id=order-redis-master-openstack-ceilometer-central-clone-mandatory
pcs -f tmp-cib.xml pcs constraint order openstack-nova-scheduler-clone then openstack-nova-conductor-clone id=order-openstack-nova-scheduler-clone-openstack-nova-conductor-clone-mandatory
pcs -f tmp-cib.xml constraint colocation add delay-clone with openstack-ceilometer-api-clone id=colocation-delay-clone-openstack-ceilometer-api-clone-INFINITY
pcs -f tmp-cib.xml pcs constraint order openstack-nova-consoleauth-clone then openstack-nova-novncproxy-clone id=order-openstack-nova-consoleauth-clone-openstack-nova-novncproxy-clone-mandatory
pcs -f tmp-cib.xml pcs constraint order neutron-l3-agent-clone then neutron-metadata-agent-clone id=order-neutron-l3-agent-clone-neutron-metadata-agent-clone-mandatory
pcs -f tmp-cib.xml pcs constraint order openstack-nova-novncproxy-clone then openstack-nova-api-clone id=order-openstack-nova-novncproxy-clone-openstack-nova-api-clone-mandatory
pcs -f tmp-cib.xml pcs constraint order openstack-heat-api-cloudwatch-clone then openstack-heat-engine-clone id=order-openstack-heat-api-cloudwatch-clone-openstack-heat-engine-clone-mandatory
pcs -f tmp-cib.xml constraint colocation add openstack-heat-engine-clone with openstack-heat-api-cloudwatch-clone id=colocation-openstack-heat-engine-clone-openstack-heat-api-cloudwatch-clone-INFINITY
pcs -f tmp-cib.xml pcs constraint order openstack-ceilometer-notification-clone then openstack-heat-api-clone id=order-openstack-ceilometer-notification-clone-openstack-heat-api-clone-mandatory
pcs -f tmp-cib.xml pcs constraint order openstack-keystone-clone then neutron-server-clone id=order-openstack-keystone-clone-neutron-server-clone-mandatory
pcs -f tmp-cib.xml constraint colocation add openstack-ceilometer-alarm-notifier-clone with openstack-ceilometer-alarm-evaluator-clone id=colocation-openstack-ceilometer-alarm-notifier-clone-openstack-ceilometer-alarm-evaluator-clone-INFINITY
pcs -f tmp-cib.xml pcs constraint order neutron-dhcp-agent-clone then neutron-l3-agent-clone id=order-neutron-dhcp-agent-clone-neutron-l3-agent-clone-mandatory
pcs -f tmp-cib.xml pcs constraint order openstack-ceilometer-alarm-notifier-clone then openstack-ceilometer-notification-clone id=order-openstack-ceilometer-alarm-notifier-clone-openstack-ceilometer-notification-clone-mandatory
pcs -f tmp-cib.xml constraint colocation add openstack-nova-api-clone with openstack-nova-novncproxy-clone id=colocation-openstack-nova-api-clone-openstack-nova-novncproxy-clone-INFINITY
pcs -f tmp-cib.xml pcs constraint order openstack-keystone-clone then openstack-nova-consoleauth-clone id=order-openstack-keystone-clone-openstack-nova-consoleauth-clone-mandatory
pcs -f tmp-cib.xml pcs constraint order openstack-nova-api-clone then openstack-nova-scheduler-clone id=order-openstack-nova-api-clone-openstack-nova-scheduler-clone-mandatory
pcs -f tmp-cib.xml pcs constraint order openstack-heat-api-cfn-clone then openstack-heat-api-cloudwatch-clone id=order-openstack-heat-api-cfn-clone-openstack-heat-api-cloudwatch-clone-mandatory
pcs -f tmp-cib.xml constraint colocation add openstack-heat-api-cfn-clone with openstack-heat-api-clone id=colocation-openstack-heat-api-cfn-clone-openstack-heat-api-clone-INFINITY
pcs -f tmp-cib.xml pcs constraint order neutron-server-clone then neutron-ovs-cleanup-clone id=order-neutron-server-clone-neutron-ovs-cleanup-clone-mandatory
pcs -f tmp-cib.xml pcs constraint order neutron-openvswitch-agent-clone then neutron-dhcp-agent-clone id=order-neutron-openvswitch-agent-clone-neutron-dhcp-agent-clone-mandatory
pcs -f tmp-cib.xml constraint colocation add openstack-cinder-scheduler-clone with openstack-cinder-api-clone id=colocation-openstack-cinder-scheduler-clone-openstack-cinder-api-clone-INFINITY
pcs -f tmp-cib.xml pcs constraint order openstack-ceilometer-api-clone then delay-clone id=order-openstack-ceilometer-api-clone-delay-clone-mandatory
pcs -f tmp-cib.xml pcs constraint order promote galera-master then openstack-keystone-clone id=order-galera-master-openstack-keystone-clone-mandatory
pcs -f tmp-cib.xml constraint colocation add openstack-nova-conductor-clone with openstack-nova-scheduler-clone id=colocation-openstack-nova-conductor-clone-openstack-nova-scheduler-clone-INFINITY
pcs -f tmp-cib.xml pcs constraint order openstack-cinder-api-clone then openstack-cinder-scheduler-clone id=order-openstack-cinder-api-clone-openstack-cinder-scheduler-clone-mandatory
pcs -f tmp-cib.xml pcs constraint order neutron-netns-cleanup-clone then neutron-openvswitch-agent-clone id=order-neutron-netns-cleanup-clone-neutron-openvswitch-agent-clone-mandatory
pcs -f tmp-cib.xml constraint colocation add openstack-ceilometer-alarm-evaluator-clone with delay-clone id=colocation-openstack-ceilometer-alarm-evaluator-clone-delay-clone-INFINITY
pcs -f tmp-cib.xml pcs constraint order openstack-ceilometer-central-clone then openstack-ceilometer-collector-clone id=order-openstack-ceilometer-central-clone-openstack-ceilometer-collector-clone-mandatory
pcs -f tmp-cib.xml pcs constraint order haproxy-clone then openstack-keystone-clone id=order-haproxy-clone-openstack-keystone-clone-mandatory
pcs -f tmp-cib.xml pcs constraint order neutron-ovs-cleanup-clone then neutron-netns-cleanup-clone id=order-neutron-ovs-cleanup-clone-neutron-netns-cleanup-clone-mandatory
pcs -f tmp-cib.xml constraint colocation add neutron-metadata-agent-clone with neutron-l3-agent-clone id=colocation-neutron-metadata-agent-clone-neutron-l3-agent-clone-INFINITY
pcs -f tmp-cib.xml constraint colocation add openstack-nova-novncproxy-clone with openstack-nova-consoleauth-clone id=colocation-openstack-nova-novncproxy-clone-openstack-nova-consoleauth-clone-INFINITY
pcs -f tmp-cib.xml constraint colocation add openstack-ceilometer-api-clone with openstack-ceilometer-collector-clone id=colocation-openstack-ceilometer-api-clone-openstack-ceilometer-collector-clone-INFINITY
pcs -f tmp-cib.xml pcs constraint order openstack-ceilometer-collector-clone then openstack-ceilometer-api-clone id=order-openstack-ceilometer-collector-clone-openstack-ceilometer-api-clone-mandatory
pcs -f tmp-cib.xml pcs constraint order openstack-keystone-clone then openstack-heat-api-clone id=order-openstack-keystone-clone-openstack-heat-api-clone-mandatory
pcs -f tmp-cib.xml pcs constraint order openstack-ceilometer-alarm-evaluator-clone then openstack-ceilometer-alarm-notifier-clone id=order-openstack-ceilometer-alarm-evaluator-clone-openstack-ceilometer-alarm-notifier-clone-mandatory
pcs cluster cib-push tmp-cib.xml --config
